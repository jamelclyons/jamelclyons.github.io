{"version":3,"file":"Search.js","sources":["../../src/views/Search.tsx"],"sourcesContent":["import { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { getProjectsBy } from '../controllers/portfolioSlice';\nimport {\n  setMessage,\n  setMessageType,\n  setShowStatusBar,\n} from '../controllers/messageSlice';\n\nimport ProjectsComponent from './components/portfolio/ProjectsComponent';\n\nfunction Search() {\n  const { portfolioLoading, projects, portfolioErrorMessage } = useSelector(\n    (state) => state.portfolio\n  );\n\n  const dispatch = useDispatch();\n\n  const path = window.location.hash;\n  const parts = path?.split('/');\n  const taxonomy = parts[2]?.replace(/-/g, '_') ?? '';\n  const term = parts[3] ?? '';\n  const params = {\n    taxonomy: taxonomy,\n    term: term,\n  };\n\n  useEffect(() => {\n    if (path) {\n      dispatch(getProjectsBy(params));\n    }\n  }, [path, dispatch]);\n\n  useEffect(() => {\n    if (path) {\n      const skillClass =\n        taxonomy?.charAt(0).toUpperCase() + taxonomy?.slice(1).toLowerCase() ?? '';\n      const skill = term?.charAt(0).toUpperCase() + term?.slice(1).toLowerCase() ?? '';\n\n      document.title = `Projects > ${skillClass} > ${skill}`;\n    }\n  }, [path, taxonomy, term]);\n\n  useEffect(() => {\n    if (portfolioLoading) {\n      dispatch(setShowStatusBar(Date.now()));\n    }\n  }, [portfolioLoading]);\n\n  useEffect(() => {\n    if (portfolioErrorMessage) {\n      dispatch(setMessage(portfolioErrorMessage));\n      dispatch(setMessageType('error'));\n      dispatch(setShowStatusBar(Date.now()));\n    }\n  }, [portfolioErrorMessage]);\n\n  return (\n    <section className=\"search\">\n      <>\n        <ProjectsComponent projects={projects} />\n      </>\n    </section>\n  );\n}\n\nexport default Search;\n"],"names":["Search","portfolioLoading","projects","portfolioErrorMessage","useSelector","state","dispatch","useDispatch","path","parts","taxonomy","_a","term","params","useEffect","getProjectsBy","skillClass","skill","setShowStatusBar","setMessage","setMessageType","jsx","ProjectsComponent"],"mappings":"sLAYA,SAASA,GAAS,OAChB,KAAM,CAAE,iBAAAC,EAAkB,SAAAC,EAAU,sBAAAC,CAA0B,EAAAC,EAC3DC,GAAUA,EAAM,SACnB,EAEMC,EAAWC,EAAY,EAEvBC,EAAO,OAAO,SAAS,KACvBC,EAAQD,GAAA,YAAAA,EAAM,MAAM,KACpBE,IAAWC,EAAAF,EAAM,CAAC,IAAP,YAAAE,EAAU,QAAQ,KAAM,OAAQ,GAC3CC,EAAOH,EAAM,CAAC,GAAK,GACnBI,EAAS,CACb,SAAAH,EACA,KAAAE,CACF,EAEAE,OAAAA,EAAAA,UAAU,IAAM,CACVN,GACOF,EAAAS,EAAcF,CAAM,CAAC,CAChC,EACC,CAACL,EAAMF,CAAQ,CAAC,EAEnBQ,EAAAA,UAAU,IAAM,CACd,GAAIN,EAAM,CACF,MAAAQ,GACJN,GAAA,YAAAA,EAAU,OAAO,GAAG,gBAAgBA,GAAA,YAAAA,EAAU,MAAM,GAAG,eACnDO,GAAQL,GAAA,YAAAA,EAAM,OAAO,GAAG,gBAAgBA,GAAA,YAAAA,EAAM,MAAM,GAAG,eAE7D,SAAS,MAAQ,cAAcI,CAAU,MAAMC,CAAK,EAAA,CAErD,EAAA,CAACT,EAAME,EAAUE,CAAI,CAAC,EAEzBE,EAAAA,UAAU,IAAM,CACVb,GACFK,EAASY,EAAiB,KAAK,IAAK,CAAA,CAAC,CACvC,EACC,CAACjB,CAAgB,CAAC,EAErBa,EAAAA,UAAU,IAAM,CACVX,IACOG,EAAAa,EAAWhB,CAAqB,CAAC,EACjCG,EAAAc,EAAe,OAAO,CAAC,EAChCd,EAASY,EAAiB,KAAK,IAAK,CAAA,CAAC,EACvC,EACC,CAACf,CAAqB,CAAC,EAGxBkB,EAAAA,IAAC,WAAQ,UAAU,SACjB,2BACE,SAACA,EAAA,IAAAC,EAAA,CAAkB,SAAApB,CAAoB,CAAA,CACzC,CAAA,EACF,CAEJ"}