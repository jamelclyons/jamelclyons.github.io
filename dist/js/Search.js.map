{"version":3,"file":"Search.js","sources":["../../src/views/Search.jsx"],"sourcesContent":["import { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { getProjectsBy } from '../controllers/portfolioSlice';\nimport {\n  setMessage,\n  setMessageType,\n  setShowStatusBar,\n} from '../controllers/messageSlice';\n\nimport ProjectsComponent from './components/ProjectsComponent';\n\nfunction Search() {\n  const { portfolioLoading, projects, portfolioErrorMessage } = useSelector(\n    (state) => state.portfolio\n  );\n\n  const dispatch = useDispatch();\n\n  const path = window.location.hash;\n  const parts = path?.split('/');\n  const taxonomy = parts[2]?.replace(/-/g, '_') ?? '';\n  const term = parts[3] ?? '';\n  const params = {\n    taxonomy: taxonomy,\n    term: term,\n  };\n\n  useEffect(() => {\n    if (path) {\n      dispatch(getProjectsBy(params));\n    }\n  }, [path, dispatch]);\n\n  useEffect(() => {\n    if (path) {\n      const skillClass =\n        taxonomy?.charAt(0).toUpperCase() + taxonomy?.slice(1).toLowerCase() ?? '';\n      const skill = term?.charAt(0).toUpperCase() + term?.slice(1).toLowerCase() ?? '';\n\n      document.title = `Projects > ${skillClass} > ${skill}`;\n    }\n  }, [path, taxonomy, term]);\n\n  useEffect(() => {\n    if (portfolioLoading) {\n      dispatch(setShowStatusBar(Date.now()));\n    }\n  }, [portfolioLoading]);\n\n  useEffect(() => {\n    if (portfolioErrorMessage) {\n      dispatch(setMessage(portfolioErrorMessage));\n      dispatch(setMessageType('error'));\n      dispatch(setShowStatusBar(Date.now()));\n    }\n  }, [portfolioErrorMessage]);\n\n  return (\n    <section className=\"search\">\n      <>\n        <ProjectsComponent projects={projects} />\n      </>\n    </section>\n  );\n}\n\nexport default Search;\n"],"names":["Search","portfolioLoading","projects","portfolioErrorMessage","useSelector","state","portfolio","dispatch","useDispatch","path","window","location","hash","parts","split","taxonomy","replace","term","params","useEffect","getProjectsBy","skillClass","charAt","toUpperCase","slice","toLowerCase","skill","document","title","setShowStatusBar","Date","now","setMessage","setMessageType","jsx","className","children","ProjectsComponent"],"mappings":"gUAYA,SAASA,GAAS,OAChB,KAAM,CAAEC,iBAAAA,EAAkBC,SAAAA,EAAUC,sBAAAA,CAA0B,EAAAC,EAC3DC,GAAUA,EAAMC,SACnB,EAEMC,EAAWC,EAAY,EAEvBC,EAAOC,OAAOC,SAASC,KACvBC,EAAQJ,GAAAA,YAAAA,EAAMK,MAAM,KACpBC,IAAWF,EAAAA,EAAM,CAAC,IAAPA,YAAAA,EAAUG,QAAQ,KAAM,OAAQ,GAC3CC,EAAOJ,EAAM,CAAC,GAAK,GACnBK,EAAS,CACbH,SAAAA,EACAE,KAAAA,CACF,EAEAE,OAAAA,EAAAA,UAAU,IAAM,CACVV,GACOF,EAAAa,EAAcF,CAAM,CAAC,CAElC,EAAG,CAACT,EAAMF,CAAQ,CAAC,EAEnBY,EAAAA,UAAU,IAAM,CACd,GAAIV,EAAM,CACF,MAAAY,GACJN,GAAAA,YAAAA,EAAUO,OAAO,GAAGC,gBAAgBR,GAAAA,YAAAA,EAAUS,MAAM,GAAGC,eACnDC,GAAQT,GAAAA,YAAAA,EAAMK,OAAO,GAAGC,gBAAgBN,GAAAA,YAAAA,EAAMO,MAAM,GAAGC,eAE7DE,SAASC,MAAQ,cAAcP,CAAU,MAAMK,CAAK,EACtD,CACC,EAAA,CAACjB,EAAMM,EAAUE,CAAI,CAAC,EAEzBE,EAAAA,UAAU,IAAM,CACVlB,GACFM,EAASsB,EAAiBC,KAAKC,IAAK,CAAA,CAAC,CAEzC,EAAG,CAAC9B,CAAgB,CAAC,EAErBkB,EAAAA,UAAU,IAAM,CACVhB,IACOI,EAAAyB,EAAW7B,CAAqB,CAAC,EACjCI,EAAA0B,EAAe,OAAO,CAAC,EAChC1B,EAASsB,EAAiBC,KAAKC,IAAK,CAAA,CAAC,EAEzC,EAAG,CAAC5B,CAAqB,CAAC,EAGxB+B,EAAAA,IAAC,WAAQC,UAAU,SACjBC,2BACEA,SAACF,EAAA,IAAAG,EAAA,CAAkBnC,SAAAA,CAAoB,CAAA,CACzC,CAAA,CACF,CAAA,CAEJ"}