{"version":3,"file":"Search.js","sources":["../../src/views/Search.jsx"],"sourcesContent":["import { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { getProjectsBy } from '../controllers/portfolioSlice';\nimport {\n  setMessage,\n  setMessageType,\n  setShowStatusBar,\n} from '../controllers/messageSlice';\n\nimport ProjectsComponent from './components/ProjectsComponent';\n\nfunction Search() {\n  const { portfolioLoading, projects, portfolioErrorMessage } = useSelector(\n    (state) => state.portfolio\n  );\n\n  const dispatch = useDispatch();\n\n  const path = window.location.hash;\n\n  useEffect(() => {\n    if (path) {\n      const parts = path.split('/');\n      const taxonomy = parts[2].replace(/-/g, '_');\n      const term = parts[3];\n      const params = {\n        taxonomy: taxonomy,\n        term: term,\n      };\n\n      dispatch(getProjectsBy(params));\n    }\n  }, [path, dispatch]);\n\n  useEffect(() => {\n    if (portfolioLoading) {\n      dispatch(setShowStatusBar(Date.now()));\n    }\n  }, [portfolioLoading]);\n\n  useEffect(() => {\n    if (portfolioErrorMessage) {\n      dispatch(setMessage(portfolioErrorMessage));\n      dispatch(setMessageType('error'));\n      dispatch(setShowStatusBar(Date.now()));\n    }\n  }, [portfolioErrorMessage]);\n\n  return (\n    <section className=\"search\">\n      <>\n        <ProjectsComponent projects={projects} />\n      </>\n    </section>\n  );\n}\n\nexport default Search;\n"],"names":["Search","portfolioLoading","projects","portfolioErrorMessage","useSelector","state","portfolio","dispatch","useDispatch","path","window","location","hash","useEffect","parts","split","taxonomy","replace","term","getProjectsBy","setShowStatusBar","Date","now","setMessage","setMessageType","jsx","className","children","ProjectsComponent"],"mappings":"qUAYA,SAASA,GAAS,CAChB,KAAM,CAAEC,iBAAAA,EAAkBC,SAAAA,EAAUC,sBAAAA,CAA0B,EAAAC,EAC3DC,GAAUA,EAAMC,SACnB,EAEMC,EAAWC,EAAY,EAEvBC,EAAOC,OAAOC,SAASC,KAE7BC,OAAAA,EAAAA,UAAU,IAAM,CACd,GAAIJ,EAAM,CACF,MAAAK,EAAQL,EAAKM,MAAM,GAAG,EACtBC,EAAWF,EAAM,CAAC,EAAEG,QAAQ,KAAM,GAAG,EACrCC,EAAOJ,EAAM,CAAC,EAMXP,EAAAY,EALM,CACbH,SAAAA,EACAE,KAAAA,CACF,CAE6B,CAAC,CAChC,CACF,EAAG,CAACT,EAAMF,CAAQ,CAAC,EAEnBM,EAAAA,UAAU,IAAM,CACVZ,GACFM,EAASa,EAAiBC,KAAKC,IAAK,CAAA,CAAC,CAEzC,EAAG,CAACrB,CAAgB,CAAC,EAErBY,EAAAA,UAAU,IAAM,CACVV,IACOI,EAAAgB,EAAWpB,CAAqB,CAAC,EACjCI,EAAAiB,EAAe,OAAO,CAAC,EAChCjB,EAASa,EAAiBC,KAAKC,IAAK,CAAA,CAAC,EAEzC,EAAG,CAACnB,CAAqB,CAAC,EAGxBsB,EAAAA,IAAC,WAAQC,UAAU,SACjBC,2BACEA,SAACF,EAAA,IAAAG,EAAA,CAAkB1B,SAAAA,CAAoB,CAAA,CACzC,CAAA,CACF,CAAA,CAEJ"}