{"version":3,"file":"Search.DR4VD8NV.js","sources":["../../../src/views/Search.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport type { AppDispatch, RootState } from '../model/store';\n\nimport { getProjectsBy } from '../controllers/portfolioSlice';\nimport {\n  setMessage,\n  setMessageType,\n  setShowStatusBar,\n} from '../controllers/messageSlice';\n\nimport ProjectsComponent from './components/portfolio/ProjectsComponent';\n\nconst Search = () => {\n  const dispatch = useDispatch<AppDispatch>();\n\n  const { portfolioLoading, projects, portfolioErrorMessage } = useSelector(\n    (state: RootState) => state.portfolio\n  );\n\n  const path = window.location.hash;\n  const parts = path?.split('/');\n  const taxonomy = parts[2]?.replace(/-/g, '_') ?? '';\n  const term = parts[3] ?? '';\n  const params = {\n    taxonomy: taxonomy,\n    term: term,\n  };\n\n  useEffect(() => {\n    if (path) {\n      dispatch(getProjectsBy(params));\n    }\n  }, [path, dispatch]);\n\n  useEffect(() => {\n    if (path) {\n      const skillClass =\n        taxonomy?.charAt(0).toUpperCase() + taxonomy?.slice(1).toLowerCase();\n      const skill = term?.charAt(0).toUpperCase() + term?.slice(1).toLowerCase();\n\n      document.title = `Projects > ${skillClass} > ${skill}`;\n    }\n  }, [path, taxonomy, term]);\n\n  useEffect(() => {\n    if (portfolioLoading) {\n      dispatch(setShowStatusBar(Date.now()));\n    }\n  }, [portfolioLoading]);\n\n  useEffect(() => {\n    if (portfolioErrorMessage) {\n      dispatch(setMessage(portfolioErrorMessage));\n      dispatch(setMessageType('error'));\n      dispatch(setShowStatusBar(Date.now()));\n    }\n  }, [portfolioErrorMessage]);\n\n  return (\n    <section className=\"search\">\n      <>\n        <ProjectsComponent projects={projects} />\n      </>\n    </section>\n  );\n}\n\nexport default Search;\n"],"names":["Search","dispatch","useDispatch","portfolioLoading","projects","portfolioErrorMessage","useSelector","state","path","parts","taxonomy","term","params","useEffect","getProjectsBy","skillClass","skill","setShowStatusBar","setMessage","setMessageType","jsx","ProjectsComponent"],"mappings":"kNAcA,MAAMA,EAAS,IAAM,CACnB,MAAMC,EAAWC,EAAyB,EAEpC,CAAE,iBAAAC,EAAkB,SAAAC,EAAU,sBAAAC,CAA0B,EAAAC,EAC3DC,GAAqBA,EAAM,SAC9B,EAEMC,EAAO,OAAO,SAAS,KACvBC,EAAQD,GAAM,MAAM,GAAG,EACvBE,EAAWD,EAAM,CAAC,GAAG,QAAQ,KAAM,GAAG,GAAK,GAC3CE,EAAOF,EAAM,CAAC,GAAK,GACnBG,EAAS,CACb,SAAAF,EACA,KAAAC,CACF,EAEAE,OAAAA,EAAAA,UAAU,IAAM,CACVL,GACOP,EAAAa,EAAcF,CAAM,CAAC,CAChC,EACC,CAACJ,EAAMP,CAAQ,CAAC,EAEnBY,EAAAA,UAAU,IAAM,CACd,GAAIL,EAAM,CACF,MAAAO,EACJL,GAAU,OAAO,CAAC,EAAE,YAAY,EAAIA,GAAU,MAAM,CAAC,EAAE,YAAY,EAC/DM,EAAQL,GAAM,OAAO,CAAC,EAAE,YAAY,EAAIA,GAAM,MAAM,CAAC,EAAE,YAAY,EAEzE,SAAS,MAAQ,cAAcI,CAAU,MAAMC,CAAK,EAAA,CAErD,EAAA,CAACR,EAAME,EAAUC,CAAI,CAAC,EAEzBE,EAAAA,UAAU,IAAM,CACVV,GACFF,EAASgB,EAAiB,KAAK,IAAK,CAAA,CAAC,CACvC,EACC,CAACd,CAAgB,CAAC,EAErBU,EAAAA,UAAU,IAAM,CACVR,IACOJ,EAAAiB,EAAWb,CAAqB,CAAC,EACjCJ,EAAAkB,EAAe,OAAO,CAAC,EAChClB,EAASgB,EAAiB,KAAK,IAAK,CAAA,CAAC,EACvC,EACC,CAACZ,CAAqB,CAAC,EAGxBe,EAAAA,IAAC,WAAQ,UAAU,SACjB,2BACE,SAACA,EAAA,IAAAC,EAAA,CAAkB,SAAAjB,CAAoB,CAAA,CACzC,CAAA,EACF,CAEJ"}